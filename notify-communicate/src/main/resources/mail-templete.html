<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
   <head>
       <script type="text/javascript" src="src/main/resources/jquery.js"></script>
  <!--  <script type="text/javascript" src="jquery.js"></script> -->

<script type="text/javascript">

$(document).ready(function(){
    $('#table_id td.name').each(function(){
       if ($(this).text() == 'SUCCESS') {
        document.getElementById('header').style.backgroundColor='#228B22';
            
        }
       else  if ($(this).text() == 'FAILURE') {
        document.getElementById('header').style.backgroundColor='#FF0000';
            
        }
       else  if ($(this).text() == 'PARTIAL') {
        document.getElementById('header').style.backgroundColor='#FFBF00';
            
        }
    });
});

</script>
<style>
table {
	border-collapse: collapse;
	width: 80%;
}

th, td {
	text-align: left;
	padding: 5px;
}

tr:nth-child(even) {
	background-color: #f2f2f2
}


</style>
 </head>
 
<table border=1 id="table_id">
		<tbody>
			<tr>
				<th colspan=3  id="header">
              
					<h3><p align='center'>ESB Batch Execution Report</p></h3>
                </th>
			</tr>
            <tr>
				<th colspan=3>
               <p align='left'> ExecutionMetrics :</p>
                 
				</th>
			</tr>
     
			<tr>
				<td><b>Batch Process</b></td>
				<td><td>#[message.payload.ExecutionMetrics.BatchExecutionSummary.BatchProcessName]</td></td>
			</tr>
            
            <tr>
  <td rowspan="2" ><b>Server Info</b></td>
  <td><b>HostName:<td>#[message.payload.ExecutionMetrics.ServerInfo.HostName]</td>
  
</tr>
<tr>
  <td><b>HostIP:</b><td> #[message.payload.ExecutionMetrics.ServerInfo.HostIP]</td></td>
</tr>


<tr>
  <td rowspan="7"><b>Execution Summary</b></td>
  <td><b>Source File Name:</b><td>#[message.payload.ExecutionMetrics.BatchExecutionSummary.SourceFileName]</td></td>
</tr>
<tr>
  <td><b>BatchRunId:</b><td>#[message.payload.ExecutionMetrics.BatchExecutionSummary.BatchRunId]</td></td>
</tr>
<tr>
  <td><b>Successful:</b><td>#[message.payload.ExecutionMetrics.BatchExecutionSummary.Successful]</td></td>
</tr>
<tr>
  <td><b>Failed:</b><td>#[message.payload.ExecutionMetrics.BatchExecutionSummary.Failed]</td></td>
</tr>
<tr>
  <td><b>ProcessedRecords:</b><td>#[message.payload.ExecutionMetrics.BatchExecutionSummary.ProcessedRecords]</td></td>
</tr>
<tr>
  <td><b>Total:</b><td>#[message.payload.ExecutionMetrics.BatchExecutionSummary.Total]</td></td>
</tr>
<tr>
  <td><b>ErrorFile:</b><td>#[message.payload.ExecutionMetrics.BatchExecutionSummary.ErrorFile]</td></td>
</tr>
<tr>
				<td><b>Status</b></td>
              	
				<td><td class="name">#[message.payload.ExecutionMetrics.Status]</td></td>
			</tr>
             <tr>
				<td><b>Priority</b></td>
              	
				<td><td>#[message.payload.ExecutionMetrics.MessagePriority]</td></td>
			</tr>
             <tr>
				<td><b>Summary</b></td>
              	
				<td><td>#[message.payload.ExecutionMetrics.MessageSummary]</td></td>
			</tr>
             <tr>
				<td><b>Details</b></td>
              	
				<td><td>#[message.payload.ExecutionMetrics.MessageDetails]</td></td>
			</tr>
		</tbody>
	</table>
</body>
</html>






